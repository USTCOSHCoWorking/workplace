# 海星网络

标签（空格分隔）： 海星 还行 拓扑结构 可行性研究 设计

---

## 基本目标
* 实现此分布式网络的完全去中心化，自我调控
* 保证网络的高度连通性与稳定性
* 保证数据来源有保障，可用性保证
* 降低各个节点的负载
* 降低查找节点产生的延迟，保证高效性
* 保证多个下载源易得，有较稳定的寻找源的算法，保证下载速度

## 基本结构
我是图.jpg
### 结构性质描述
* 海星多维性：每个节点与若干个其他节点直连，直连数参数限定（保证联通性）（参数动态变化）。
* 海星多层性：每个海星有有限个层数，即以每个节点为海星中心，向外延伸的属于此海星的节点的中转次数是有限的，且跳数尽量少，数据传输时间尽量少。
* 海星重叠性：由于把每个节点都看作一个海星的中心，于是各海星之间是重叠的，这保证了我们的算法设计方向。
* 海星完整性：每个海星是完整的，以某个节点为中心的海星内部所有节点包含着所有软件的所有块。
* 海星冗余性（与唯一性二选一）：每个海星中存放多份所有软件的块
* 海星唯一性（与冗余性二选一）：每个海星中只存放一份所有软件的块

## 设计基本原理
由性质与基本目标推出：

* 海星局部性原理（基于海星多层性）：属于同一个海星的节点在地理位置上较为接近。
* 海星染色原理1（基于海星唯一性（冗余性））：给属于同一个海星中的每个软件块染色，那么没有两（三，四……N）个软件块属于同一个海星，且它们拥有相同的色号。
* 海星染色原理2（海星寻色必然原理）（基于海星唯一性（冗余性））：若一个海星中心的节点拥有i色号块，必可以在这个海星外任一节点所在的海星中找到另一个i色号块。

## 基本算法框架
###新节点入网方式
假设**a节点**需要入网

* 获取节点ip列表：借助bt服务器（是否有更好方案？）得到已注册的ip列表，提取离自己最近的N个ip地址得到一张表，存入本地。
* 获取（更新）所有软件块列表：借助bt服务器（或？，每个节点都有）
####**几种策略**
* 1海星“选块列表”【**思路源：优先满足其他海星需求**】【**缺点：此方法对算法要求较高，算法的缺点就是它的缺点**】：从存入本地的列表中从近到远遍历，获取每个节点（其海星）的需求软件块，执行`选块算法`（征求此算法，目标：使a节点有更大的连通性，排除掉加入的海星已有的块），最终得到a节点所需要存储的软件块，然后与这些需要a节点所存软件块的节点相连（直连或间接）（使用`连结算法`，征集，目标：决策连接路径，是直接还是间接）。
* 2海星标记策略【**思路源：优先构建满自己的海星**】【**缺点：容易引起不必要的冗余（可以优化？），还有其他缺点（？）**】：从存入本地的列表中由近到远遍历，标记每个即将与自己相连的节点，标记要求：
×对方所在海星（层数L（layer）-1）拥有已标记节点中没有的块（或没有满足冗余数的块）。【这里解释一下：因为标记的是直连的节点，所以a节点构建的海星的控制范围可以延伸到标记节点的L-1层内所有节点（**我似乎想到了我们海星结构的新原理（最外层原理）**）】
直到剩余（满足海星完整性，满足海星唯一性或冗余性）的块的总量小于等于标定量（动态？），连接标记的节点。
* 3海星动态存活构建法【**思路源：开始构建不要求最优，能活下来即可，之后慢慢扩大**】：从存入本地的列表中由近到远遍历，找到第一个有缺失的海星（或者缺失最少的海星），直接连接。再通过连接的节点，向外搜索需要自己的节点（海星），相连。达到最低连通度下限，停止搜索。动态：当有软件包需求时，根据索引算法向外查找来源时，询问路径上的节点是否可以和自己相连，若可，则相连。



